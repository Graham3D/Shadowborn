[gd_scene load_steps=34 format=3 uid="uid://bujeumngbk1ab"]

[ext_resource type="PackedScene" uid="uid://p4y3tg8cs737" path="res://playground/Playground.gltf" id="1_duj6w"]
[ext_resource type="Script" uid="uid://ch1kvyfwthcr4" path="res://character/scripts/PlayerController.gd" id="3_gwu22"]
[ext_resource type="PackedScene" uid="uid://b78v6gjyrpm3w" path="res://character/Character.fbx" id="4_gwu22"]
[ext_resource type="PackedScene" uid="uid://dfx8h05vrgetk" path="res://playground/boxes.gltf" id="13_7k1vm"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_8vnjg"]
sky_horizon_color = Color(0.64233613, 0.6616652, 0.72339386, 1)
ground_bottom_color = Color(0.1474295, 0.15574586, 0.30666032, 1)
ground_horizon_color = Color(0.64233613, 0.6616652, 0.72339386, 1)
energy_multiplier = 8.0

[sub_resource type="Sky" id="Sky_tuib3"]
sky_material = SubResource("ProceduralSkyMaterial_8vnjg")

[sub_resource type="Environment" id="Environment_gwu22"]
background_mode = 2
sky = SubResource("Sky_tuib3")

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_gwu22"]
animation = &"Fall"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_l2c8s"]
animation = &"Land"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_tdwk3"]
animation = &"Turn"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_c3jux"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_yqau4"]
animation = &"jump"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_7io06"]
animation = &"run"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_t6q0n"]
animation = &"walk"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_0ttet"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_s8dwm"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_7k1vm"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_w627l"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_epjcp"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_vwmbj"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_v0ax3"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_jq65x"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_gwu22"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_l2c8s"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_tdwk3"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_c3jux"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_yqau4"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_7io06"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_t6q0n"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_soaeu"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_uu1lh"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_s8dwm"]
states/Fall/node = SubResource("AnimationNodeAnimation_gwu22")
states/Fall/position = Vector2(-151, 128)
states/Land/node = SubResource("AnimationNodeAnimation_l2c8s")
states/Land/position = Vector2(193, -25)
states/Start/position = Vector2(51, 128)
states/Turn/node = SubResource("AnimationNodeAnimation_tdwk3")
states/Turn/position = Vector2(490, 23)
states/idle/node = SubResource("AnimationNodeAnimation_c3jux")
states/idle/position = Vector2(193, 128)
states/jump/node = SubResource("AnimationNodeAnimation_yqau4")
states/jump/position = Vector2(193, 286)
states/run/node = SubResource("AnimationNodeAnimation_7io06")
states/run/position = Vector2(490, 128)
states/walk/node = SubResource("AnimationNodeAnimation_t6q0n")
states/walk/position = Vector2(339, 128)
transitions = ["Start", "idle", SubResource("AnimationNodeStateMachineTransition_0ttet"), "idle", "walk", SubResource("AnimationNodeStateMachineTransition_s8dwm"), "walk", "run", SubResource("AnimationNodeStateMachineTransition_7k1vm"), "walk", "idle", SubResource("AnimationNodeStateMachineTransition_w627l"), "run", "walk", SubResource("AnimationNodeStateMachineTransition_epjcp"), "jump", "Fall", SubResource("AnimationNodeStateMachineTransition_vwmbj"), "Fall", "Land", SubResource("AnimationNodeStateMachineTransition_v0ax3"), "Land", "idle", SubResource("AnimationNodeStateMachineTransition_jq65x"), "idle", "jump", SubResource("AnimationNodeStateMachineTransition_gwu22"), "walk", "jump", SubResource("AnimationNodeStateMachineTransition_l2c8s"), "run", "jump", SubResource("AnimationNodeStateMachineTransition_tdwk3"), "Land", "walk", SubResource("AnimationNodeStateMachineTransition_c3jux"), "Land", "run", SubResource("AnimationNodeStateMachineTransition_yqau4"), "run", "Turn", SubResource("AnimationNodeStateMachineTransition_7io06"), "Turn", "run", SubResource("AnimationNodeStateMachineTransition_t6q0n"), "Turn", "walk", SubResource("AnimationNodeStateMachineTransition_soaeu"), "Turn", "idle", SubResource("AnimationNodeStateMachineTransition_uu1lh")]
graph_offset = Vector2(-146, -83)

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_tuib3"]
radius = 0.5629883
height = 2.786255

[node name="Node3D" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_gwu22")

[node name="default2" parent="." instance=ExtResource("13_7k1vm")]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, -1.5, 0, 0)

[node name="Level" parent="." instance=ExtResource("1_duj6w")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.5, 0, -2)

[node name="Player" type="CharacterBody3D" parent="."]
collision_layer = 2
axis_lock_angular_x = true
axis_lock_angular_y = true
axis_lock_angular_z = true
script = ExtResource("3_gwu22")

[node name="Character" parent="Player" instance=ExtResource("4_gwu22")]

[node name="IK Chain Right Arm" parent="Player/Character" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0)

[node name="IK Chain Left Arm" parent="Player/Character" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0)

[node name="IK Chain Right Leg" parent="Player/Character" index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0)

[node name="IK Chain Left Leg" parent="Player/Character" index="3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0)

[node name="Skeleton3D" parent="Player/Character/Point001" index="0"]
bones/1/rotation = Quaternion(-1.1944213e-06, -3.8142005e-13, 4.5429465e-07, 1)
bones/2/rotation = Quaternion(-2.6728956e-06, -1.06044026e-13, 2.2529468e-08, 1)
bones/3/rotation = Quaternion(3.9134175e-06, 2.034805e-12, -5.870106e-07, 1)
bones/4/rotation = Quaternion(1.995929e-06, -1.6755096e-06, 0.8484255, 0.5293149)
bones/5/rotation = Quaternion(0.64302206, 0.2747775, 0.19164789, 0.6886879)
bones/6/rotation = Quaternion(4.2251253e-07, 0.16678815, -6.404199e-08, 0.9859927)
bones/7/rotation = Quaternion(4.266809e-07, -0.0005571931, -2.5217324e-07, 0.9999998)
bones/8/rotation = Quaternion(3.9136175e-06, 1.7335752e-06, -0.84842604, 0.529314)
bones/9/rotation = Quaternion(-0.65088505, 0.26671377, -0.2205821, 0.6756893)
bones/10/rotation = Quaternion(-1.5401077e-06, 0.16639824, 2.7401197e-07, 0.98605865)
bones/11/rotation = Quaternion(2.4802046e-07, -0.000557258, -5.6721092e-08, 0.9999998)
bones/12/rotation = Quaternion(1.911049e-06, 0.9999952, 0.00016907988, -0.0031006176)
bones/13/rotation = Quaternion(-1.4129594e-06, -0.0052288817, -4.1622075e-06, 0.99998635)
bones/14/rotation = Quaternion(0.00012175171, -0.7056003, -0.000119447475, 0.70861006)
bones/15/rotation = Quaternion(3.2557816e-07, 0.9999936, 8.242496e-08, 0.0035627524)
bones/16/rotation = Quaternion(2.6149783e-07, 0.0060089836, 2.1433088e-08, 0.99998194)
bones/17/rotation = Quaternion(-2.1613626e-07, -0.70883447, 1.800074e-08, 0.7053749)

[node name="right_foot_helper" parent="Player/Character/Point001/Skeleton3D" index="0"]
transform = Transform3D(4.7683713e-07, 2, -3.5762787e-07, 1.1920928e-07, 2.3841858e-07, 2, 1.9999999, -5.9604645e-07, -2.3841858e-07, 0, 0, 0.9399471)
bone_idx = 0

[node name="right_foot_helper" parent="Player/Character/Point001/Skeleton3D/right_foot_helper" index="0"]
transform = Transform3D(0.49999997, 0, 0, 0, 0.5, 0, 0, 0, 0.49999997, -0.46997344, 0.25000033, -1.2177972e-07)

[node name="left_foot_helper" parent="Player/Character/Point001/Skeleton3D" index="1"]
transform = Transform3D(4.7683713e-07, 2, -3.5762787e-07, 1.1920928e-07, 2.3841858e-07, 2, 1.9999999, -5.9604645e-07, -2.3841858e-07, 0, 0, 0.9399471)
bone_idx = 0

[node name="left_foot_helper" parent="Player/Character/Point001/Skeleton3D/left_foot_helper" index="0"]
transform = Transform3D(0.49999997, 0, 0, 0, 0.5, 0, 0, 0, 0.49999997, -0.46997374, -0.24999979, 1.1477633e-07)

[node name="head_helper" parent="Player/Character/Point001/Skeleton3D" index="2"]
transform = Transform3D(4.7683713e-07, 2, -3.5762787e-07, 1.1920928e-07, 2.3841858e-07, 2, 1.9999999, -5.9604645e-07, -2.3841858e-07, 0, 0, 0.9399471)
bone_idx = 0

[node name="head_helper" parent="Player/Character/Point001/Skeleton3D/head_helper" index="0"]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, -0.325381, 0.0024811903, -0.028358746)

[node name="wall_check" type="RayCast3D" parent="Player/Character"]
transform = Transform3D(0.9999999, 0, 0, 0, 1, 0, 0, 0, 0.9999999, 0, 1.2, 0.39999998)
target_position = Vector3(0, 0, -1)

[node name="ledge_check" type="RayCast3D" parent="Player/Character"]
transform = Transform3D(0.9999999, 0, 0, 0, 1, 0, 0, 0, 0.9999999, 0, 1.9, 0.39999998)
target_position = Vector3(0, 0, -1)

[node name="ledge_down" type="RayCast3D" parent="Player/Character"]
transform = Transform3D(0.9999999, 0, 0, 0, 1, 0, 0, 0, 0.9999999, 0, 2.1, 0.59999996)

[node name="AnimationTree" type="AnimationTree" parent="Player/Character"]
tree_root = SubResource("AnimationNodeStateMachine_s8dwm")
anim_player = NodePath("../AnimationPlayer")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.3892751, 0)
shape = SubResource("CapsuleShape3D_tuib3")
debug_color = Color(0, 0.6, 0.69803923, 1)

[node name="CameraPivot" type="Node3D" parent="Player"]
unique_name_in_owner = true
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, 6.5138e-08, 2.692021, 1.4901838)

[node name="Camera3D" type="Camera3D" parent="Player/CameraPivot"]
unique_name_in_owner = true
transform = Transform3D(0.99999994, 0, 0, 0, 0.7071067, 0.7071067, 0, -0.7071067, 0.7071067, 1.703689, 11.318947, 11.025788)
fov = 40.0

[editable path="Player/Character"]
